{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///D:/Smart-Dom/src/app/auth/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  BuildingOfficeIcon,\r\n  EyeIcon,\r\n  EyeSlashIcon,\r\n  LockClosedIcon,\r\n  UserIcon,\r\n} from \"@heroicons/react/24/outline\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useState } from \"react\";\r\nimport { useAuth } from \"../../../contexts/AuthContext\";\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const { login } = useAuth();\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    userType: \"tenant\" as \"owner\" | \"tenant\",\r\n  });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleInputChange = (\r\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n  ) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n    setError(\"\");\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setError(\"\");\r\n\r\n    // X·ª≠ l√Ω login demo cho ch·ªß tr·ªç\r\n    if (formData.userType === \"owner\") {\r\n      setTimeout(() => {\r\n        if (\r\n          formData.email === \"owner@demo.com\" &&\r\n          formData.password === \"123456\"\r\n        ) {\r\n          const userData = {\r\n            email: formData.email,\r\n            name: \"Ch·ªß tr·ªç\",\r\n            userType: \"owner\" as const,\r\n            isAuthenticated: true,\r\n            phone: \"0393329634\",\r\n            idNumber: \"052204015567\",\r\n            dob: \"06-22-2004\",\r\n            address: \"38D Tam B√¨nh, Th·ªß ƒê·ª©c, TP.HCM\",\r\n            gender: \"male\",\r\n          };\r\n          login(userData);\r\n          router.push(\"/owner-dashboard\");\r\n        } else {\r\n          setError(\"T√†i kho·∫£n demo ch·ªß tr·ªç l√†: owner@demo.com / 123456\");\r\n        }\r\n        setIsLoading(false);\r\n      }, 1500);\r\n      return;\r\n    }\r\n\r\n    // G·ªçi API th·∫≠t cho kh√°ch thu√™\r\n    try {\r\n      const response = await fetch(`https://localhost:7257/api/Account/login`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          email: formData.email,\r\n          password: formData.password,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const json = await response.json().catch(() => null);\r\n        throw new Error(json?.message || \"ƒêƒÉng nh·∫≠p th·∫•t b·∫°i\");\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      setTimeout(() => {\r\n        if (data.email && formData.password) {\r\n          const userData = {\r\n            email: data.email,\r\n            userType: \"tenant\" as const,\r\n            name: data.role === 0 ? \"Ch·ªß tr·ªç\" : data.fullName,\r\n            isAuthenticated: true,\r\n            phone: data.phone,\r\n            idUser: data.idUser,\r\n            idNumber: data.idNumber,\r\n            dob: data.dateOfBirth,\r\n            address: data.address,\r\n            gender: data.gender,\r\n          };\r\n          login(userData);\r\n          router.push(\"/tenant-dashboard\");\r\n        } else {\r\n          setError(\"Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin\");\r\n        }\r\n        setIsLoading(false);\r\n      }, 1500);\r\n    } catch (err: any) {\r\n      setError(err.message);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4\">\r\n      {/* Background Pattern */}\r\n      <div className=\"absolute inset-0 bg-grid-pattern opacity-5\"></div>\r\n\r\n      <div className=\"max-w-md w-full space-y-8 relative\">\r\n        {/* Logo and Header */}\r\n        <div className=\"text-center\">\r\n          <div className=\"mx-auto h-16 w-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg\">\r\n            <BuildingOfficeIcon className=\"h-8 w-8 text-white\" />\r\n          </div>\r\n          <h2 className=\"mt-6 text-3xl font-bold text-gray-900\">\r\n            ƒêƒÉng nh·∫≠p SmartDorm\r\n          </h2>\r\n          <p className=\"mt-2 text-sm text-gray-600\">\r\n            Qu·∫£n l√Ω nh√† tr·ªç th√¥ng minh v√† hi·ªáu qu·∫£\r\n          </p>\r\n        </div>\r\n\r\n        {/* Login Form */}\r\n        <div className=\"bg-white/80 backdrop-blur-lg rounded-2xl shadow-xl p-8 border border-white/20\">\r\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\r\n            {/* User Type Selection */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Lo·∫°i t√†i kho·∫£n\r\n              </label>\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() =>\r\n                    setFormData((prev) => ({ ...prev, userType: \"owner\" }))\r\n                  }\r\n                  className={`p-3 rounded-xl border-2 transition-all ${\r\n                    formData.userType === \"owner\"\r\n                      ? \"border-blue-500 bg-blue-50 text-blue-700\"\r\n                      : \"border-gray-200 hover:border-gray-300\"\r\n                  }`}\r\n                >\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-2xl mb-1\">üë§</div>\r\n                    <div className=\"text-sm font-medium\">Ch·ªß tr·ªç</div>\r\n                  </div>\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() =>\r\n                    setFormData((prev) => ({ ...prev, userType: \"tenant\" }))\r\n                  }\r\n                  className={`p-3 rounded-xl border-2 transition-all ${\r\n                    formData.userType === \"tenant\"\r\n                      ? \"border-green-500 bg-green-50 text-green-700\"\r\n                      : \"border-gray-200 hover:border-gray-300\"\r\n                  }`}\r\n                >\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-2xl mb-1\">üßë‚Äçüíº</div>\r\n                    <div className=\"text-sm font-medium\">Kh√°ch thu√™</div>\r\n                  </div>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Email Input */}\r\n            <div>\r\n              <label\r\n                htmlFor=\"email\"\r\n                className=\"block text-sm font-medium text-gray-700 mb-2\"\r\n              >\r\n                Email\r\n              </label>\r\n              <div className=\"relative\">\r\n                <UserIcon className=\"h-5 w-5 text-gray-400 absolute left-3 top-3.5\" />\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-input w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-gray-900 placeholder-gray-500\"\r\n                  placeholder=\"Nh·∫≠p email c·ªßa b·∫°n\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Password Input */}\r\n            <div>\r\n              <label\r\n                htmlFor=\"password\"\r\n                className=\"block text-sm font-medium text-gray-700 mb-2\"\r\n              >\r\n                M·∫≠t kh·∫©u\r\n              </label>\r\n              <div className=\"relative\">\r\n                <LockClosedIcon className=\"h-5 w-5 text-gray-400 absolute left-3 top-3.5\" />\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type={showPassword ? \"text\" : \"password\"}\r\n                  value={formData.password}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-input w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-gray-900 placeholder-gray-500\"\r\n                  placeholder=\"Nh·∫≠p m·∫≠t kh·∫©u\"\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                  className=\"absolute right-3 top-3.5 text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  {showPassword ? (\r\n                    <EyeSlashIcon className=\"h-5 w-5\" />\r\n                  ) : (\r\n                    <EyeIcon className=\"h-5 w-5\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Error Message */}\r\n            {error && (\r\n              <div className=\"bg-red-50 border border-red-200 rounded-xl p-3\">\r\n                <p className=\"text-sm text-red-600\">{error}</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Demo Accounts */}\r\n            <div className=\"bg-blue-50 border border-blue-200 rounded-xl p-4\">\r\n              <h4 className=\"text-sm font-medium text-blue-900 mb-2\">\r\n                T√†i kho·∫£n demo:\r\n              </h4>\r\n              <div className=\"text-xs text-blue-700 space-y-1\">\r\n                <p>\r\n                  <strong>Ch·ªß tr·ªç:</strong> owner@demo.com / 123456\r\n                </p>\r\n              </div>\r\n              <div className=\"mt-3 pt-3 border-t border-blue-200\">\r\n                <p className=\"text-xs text-blue-600\">\r\n                  <strong>Ch·ªß tr·ªç m·ªõi:</strong> Li√™n h·ªá{\" \"}\r\n                  <strong>1900 1234</strong> ƒë·ªÉ ƒë∆∞·ª£c c·∫•p t√†i kho·∫£n qu·∫£n l√Ω mi·ªÖn\r\n                  ph√≠.\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Submit Button */}\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isLoading}\r\n              className={`w-full py-3 px-4 rounded-xl font-semibold text-white transition-all ${\r\n                isLoading\r\n                  ? \"bg-gray-400 cursor-not-allowed\"\r\n                  : formData.userType === \"owner\"\r\n                  ? \"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg hover:shadow-xl\"\r\n                  : \"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 shadow-lg hover:shadow-xl\"\r\n              }`}\r\n            >\r\n              {isLoading ? (\r\n                <div className=\"flex items-center justify-center\">\r\n                  <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\r\n                  ƒêang ƒëƒÉng nh·∫≠p...\r\n                </div>\r\n              ) : (\r\n                \"ƒêƒÉng nh·∫≠p\"\r\n              )}\r\n            </button>\r\n\r\n            {/* Links */}\r\n            <div className=\"text-center space-y-2\">\r\n              <Link\r\n                href=\"/auth/forgot-password\"\r\n                className=\"text-sm text-blue-600 hover:text-blue-800\"\r\n              >\r\n                Qu√™n m·∫≠t kh·∫©u?\r\n              </Link>\r\n              <div className=\"text-sm text-gray-600\">\r\n                Ch∆∞a c√≥ t√†i kho·∫£n?{\" \"}\r\n                <Link\r\n                  href=\"/auth/register\"\r\n                  className=\"text-blue-600 hover:text-blue-800 font-medium\"\r\n                >\r\n                  ƒêƒÉng k√Ω ngay\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        {/* Back to Home */}\r\n        <div className=\"text-center\">\r\n          <Link href=\"/\" className=\"text-sm text-gray-600 hover:text-gray-800\">\r\n            ‚Üê Quay v·ªÅ trang ch·ªß\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .bg-grid-pattern {\r\n          background-image: radial-gradient(\r\n            circle,\r\n            #e5e7eb 1px,\r\n            transparent 1px\r\n          );\r\n          background-size: 20px 20px;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}