{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/Smart-Dom/src/app/messages/page.tsx"],"sourcesContent":["// pages/tenant/chat/[ownerId].tsx\r\n\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { HubConnectionBuilder } from \"@microsoft/signalr\";\r\n\r\nexport default function TenantChat({ ownerId }: { ownerId: string }) {\r\n  const [connection, setConnection] = useState<\r\n    import(\"@microsoft/signalr\").HubConnection | null\r\n  >(null);\r\n  const [messages, setMessages] = useState<\r\n    { senderId: string; message: string }[]\r\n  >([]);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const newConnection = new HubConnectionBuilder()\r\n      .withUrl(\"https://your-api/chatHub\")\r\n      .withAutomaticReconnect()\r\n      .build();\r\n\r\n    setConnection(newConnection);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (connection) {\r\n      connection.start().then(() => {\r\n        connection.on(\"ReceiveMessage\", (senderId, message) => {\r\n          setMessages((prev) => [...prev, { senderId, message }]);\r\n        });\r\n      });\r\n    }\r\n  }, [connection]);\r\n\r\n  const sendMessage = async () => {\r\n    if (connection) {\r\n      await connection.invoke(\"SendMessage\", \"tenantId\", ownerId, message);\r\n      setMessages([...messages, { senderId: \"tenantId\", message }]);\r\n      setMessage(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat\">\r\n      {messages.map((msg, index) => (\r\n        <div key={index}>\r\n          {msg.senderId}: {msg.message}\r\n        </div>\r\n      ))}\r\n      <input value={message} onChange={(e) => setMessage(e.target.value)} />\r\n      <button onClick={sendMessage}>Gá»­i</button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;AAElC;AACA;AAFA;;;;AAIe,SAAS,WAAW,EAAE,OAAO,EAAuB;IACjE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAEzC;IACF,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAErC,EAAE;IACJ,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB,IAAI,6KAAA,CAAA,uBAAoB,GAC3C,OAAO,CAAC,4BACR,sBAAsB,GACtB,KAAK;QAER,cAAc;IAChB,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,YAAY;YACd,WAAW,KAAK,GAAG,IAAI,CAAC;gBACtB,WAAW,EAAE,CAAC,kBAAkB,CAAC,UAAU;oBACzC,YAAY,CAAC,OAAS;+BAAI;4BAAM;gCAAE;gCAAU;4BAAQ;yBAAE;gBACxD;YACF;QACF;IACF,GAAG;QAAC;KAAW;IAEf,MAAM,cAAc;QAClB,IAAI,YAAY;YACd,MAAM,WAAW,MAAM,CAAC,eAAe,YAAY,SAAS;YAC5D,YAAY;mBAAI;gBAAU;oBAAE,UAAU;oBAAY;gBAAQ;aAAE;YAC5D,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;YACZ,SAAS,GAAG,CAAC,CAAC,KAAK,sBAClB,8OAAC;;wBACE,IAAI,QAAQ;wBAAC;wBAAG,IAAI,OAAO;;mBADpB;;;;;0BAIZ,8OAAC;gBAAM,OAAO;gBAAS,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;0BACjE,8OAAC;gBAAO,SAAS;0BAAa;;;;;;;;;;;;AAGpC","debugId":null}}]
}